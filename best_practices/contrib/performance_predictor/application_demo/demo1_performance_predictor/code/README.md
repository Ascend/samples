# 性能预测器应用案例

本应用案例是用在昇腾910上训练得到的2500条NAS-Bench-101架构数据训练一个随机森林预测器。

## 训练数据

data/generated_graphs.json: 包含NAS-bench-101搜索空间中的全部423624条架构信息；使用`python generate_graph.py`命令生成

data/data.json: 包含查询的架构的详细信息，包括每个架构的训练相关信息及性能相关信息。

本案例使用data/data.json中的2500个架构信息，其中2000个架构用于训练，500个架构用于测试。

## 模型构建

使用随机森林模型构建性能预测器，该随机森林应用了230棵树，能够自动选取最大特征数。

## 使用方法

1.训练一个性能预测器

```
bash train_predictor.sh
```

在训练过程中输出的两个指标KTau和R2score分别表示以下含义

KTau全称Kendall's Tau，用于计算真实性能和预测性能之间的排名相关性，KTau值越接近1，说明排名相关性越高，预测器性能越好

R2score指的是相关系数，计算真实性能值与预测性能值之间的相关性，R2值越接近1，相关性越高，预测器的准确度越高

生成的性能预测器模型路径为：output/RF_model.m

2.使用性能预测器进行预测

```
bash predict_data.sh
```